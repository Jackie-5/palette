webpackJsonp([0],{172:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=n(48),c=i(h),u=n(81),f=i(u),p=n(82),l=i(p);n(84),n(83);var d=n(80),v=(i(d),function(t){function e(){return o(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,t),a(e,[{key:"render",value:function(){return c.default.createElement("div",{className:"canvas-box",style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"}},c.default.createElement("canvas",{ref:"writeCanvas",className:"canvasBg",onTouchStart:this.canvasTouchStart.bind(this),onTouchMove:this.canvasTouchMove.bind(this),onTouchEnd:this.canvasTouchMoveEnd.bind(this),width:"100",height:"100",style:{position:"absolute",top:0,left:0,zIndex:9}}),c.default.createElement("canvas",{ref:"bgCanvas",width:"100%",height:"100%"}))}}]),e}(l.default));f.default.render(c.default.createElement(v,null),document.getElementById("app-page"))},173:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={color:"green"}},174:function(t,e,n){e=t.exports=n(23)(),e.push([t.i,"/* Make clicks pass-through */\n#nprogress {\n  pointer-events: none;\n}\n\n#nprogress .bar {\n  background: #29d;\n\n  position: fixed;\n  z-index: 1031;\n  top: 0;\n  left: 0;\n\n  width: 100%;\n  height: 2px;\n}\n\n/* Fancy blur effect */\n#nprogress .peg {\n  display: block;\n  position: absolute;\n  right: 0px;\n  width: 100px;\n  height: 100%;\n  box-shadow: 0 0 10px #29d, 0 0 5px #29d;\n  opacity: 1.0;\n\n  -webkit-transform: rotate(3deg) translate(0px, -4px);\n      -ms-transform: rotate(3deg) translate(0px, -4px);\n          transform: rotate(3deg) translate(0px, -4px);\n}\n\n/* Remove these to get rid of the spinner */\n#nprogress .spinner {\n  display: block;\n  position: fixed;\n  z-index: 1031;\n  top: 15px;\n  right: 15px;\n}\n\n#nprogress .spinner-icon {\n  width: 18px;\n  height: 18px;\n  box-sizing: border-box;\n\n  border: solid 2px transparent;\n  border-top-color: #29d;\n  border-left-color: #29d;\n  border-radius: 50%;\n\n  -webkit-animation: nprogress-spinner 400ms linear infinite;\n          animation: nprogress-spinner 400ms linear infinite;\n}\n\n.nprogress-custom-parent {\n  overflow: hidden;\n  position: relative;\n}\n\n.nprogress-custom-parent #nprogress .spinner,\n.nprogress-custom-parent #nprogress .bar {\n  position: absolute;\n}\n\n@-webkit-keyframes nprogress-spinner {\n  0%   { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(360deg); }\n}\n@keyframes nprogress-spinner {\n  0%   { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n",""])},175:function(t,e,n){e=t.exports=n(23)(),e.push([t.i,".canvasBg {\n  background: url("+n(181)+") no-repeat center;\n}\n",""])},176:function(t,e,n){e=t.exports=n(23)(),e.i(n(174),""),e.i(n(177),""),e.push([t.i,'html {\n  width: 100%;\n  height: 100%;\n}\nbody {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  color: rgba(0, 0, 0, 0.7);\n}\na {\n  color: rgba(0, 0, 0, 0.7);\n}\na:hover {\n  color: rgba(0, 0, 0, 0.7);\n}\na:active {\n  color: rgba(0, 0, 0, 0.7);\n}\na:visited {\n  color: rgba(0, 0, 0, 0.7);\n}\n.clearfix {\n  zoom: 1;\n}\n.clearfix::before,\n.clearfix::after {\n  content: " ";\n  clear: both;\n  display: block;\n  height: 0;\n}\np {\n  margin: 0;\n  padding: 0;\n}\n.hide {\n  display: none!important;\n}\n.show {\n  display: block!important;\n}\n.orange {\n  color: #ff5b05 !important;\n}\n.green {\n  color: #090 !important;\n}\n#app-page {\n  width: 100%;\n  height: 100%;\n}\n',""])},177:function(t,e,n){e=t.exports=n(23)(),e.push([t.i,'\n@font-face {font-family: "iconfont";\n  src: url('+n(78)+"); /* IE9*/\n  src: url("+n(78)+"#iefix) format('embedded-opentype'), \n  url("+n(180)+") format('woff'), \n  url("+n(179)+") format('truetype'), \n  url("+n(178)+'#iconfont) format(\'svg\'); /* iOS 4.1- */\n}\n\n.iconfont {\n  font-family:"iconfont" !important;\n  font-size:16px;\n  font-style:normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.icon-jiantou1:before { content: "\\E66C"; }\n\n.icon-jiantou:before { content: "\\E601"; }\n\n.icon-chevron-copy-copy-copy:before { content: "\\E621"; }\n\n.icon-guanjunhuojiang-copy:before { content: "\\E600"; }\n\n',""])},178:function(t,e){t.exports="/images/iconfont.bc863a882482cadd0bec1dce7eae5fff.svg"},179:function(t,e){t.exports="/images/iconfont.9246e9cec5569b81aa8ad70851d4fbed.ttf"},180:function(t,e){t.exports="/images/iconfont.3e2ca941de0be8056be6925710f2b3fc.woff"},181:function(t,e){t.exports="/images/005.3ac0b177fbe80f88cd02d52a85d958d3.png"},78:function(t,e){t.exports="/images/iconfont.b78c39d0a020bc305b712ac1d9c73497.eot"},82:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=n(48),c=i(h),u=n(173),f=i(u),p=function(t){function e(t){o(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state=f.default,n}return r(e,t),a(e,[{key:"componentDidMount",value:function(){this.initCanvas()}},{key:"initCanvas",value:function(){this.refs.writeCanvas.width=window.innerWidth,this.refs.writeCanvas.height=window.innerHeight,this.refs.bgCanvas.width=this.refs.writeCanvas.width,this.refs.bgCanvas.height=this.refs.writeCanvas.height,this.writeCtx=this.refs.writeCanvas.getContext("2d"),this.bgCtx=this.refs.bgCanvas.getContext("2d"),this.penSize=10,this.canvasColor="#000",this.fontWidth=320,this.moveSum=0,this.penmanship=[]}},{key:"canvasTouchStart",value:function(t){var e=this,n=t.touches[0].pageX,i=t.touches[0].pageY;e.stroke={newDate:new Date,d:[{x:n,y:i,t:0}],c:e.canvasColor,p:e.penSize},this.canvasTouchMoveBegin(n,i)}},{key:"canvasTouchMoveBegin",value:function(t,e){this.writeCtx.save(),this.writeCtx.moveTo(t,e),this.preDot=null,this.moveQueue=[],this.firstMove=0,this.lineWidth=this.penSize/2*(this.fontWidth/320),this.canvasMoving(t,e)}},{key:"canvasTouchMoveEnd",value:function(t){var e=this;e.penmanship.length?e.stroke.newDate-=e.penmanshipTime:(e.penmanshipTime=e.stroke.newDate,e.stroke.newDate=e.stroke.newDate.getTime()),e.penmanship.push(e.stroke),e._clearQueue=null,e.repeatQueue=[],e.stroke=null,--this.writeCtx.lineWidth;for(var n;this.moveQueue.length;)n=this.moveQueue.shift(),this.actionPaint(n,this.fontWidth/320*this.penSize/8);this.showToCanvas()}},{key:"showToCanvas",value:function(){this.bgCtx.clearRect(0,0,this.refs.writeCanvas.width,this.refs.writeCanvas.height);for(var t=this.writeCtx.getImageData(0,0,this.refs.writeCanvas.width,this.refs.writeCanvas.height),e=0;e<t.data.length;e+=4)0!=t.data[e+3]&&(t.data[e]=100,t.data[e+1]=30,t.data[e+2]=7,t.data[e+3]=Math.round(.75*t.data[e+3]));this.bgCtx.putImageData(t,-2.5,2.5)}},{key:"canvasTouchMove",value:function(t){var e=this,n=t.touches[0].pageX,i=t.touches[0].pageY;this.stroke.d.push({x:n,y:i,moveDate:new Date-e.stroke.newDate}),this.canvasMoving(n,i)}},{key:"canvasMoving",value:function(t,e){var n;n=0,this.moveQueue.length&&(n=this.moveQueue[this.moveQueue.length-1],0==(n=Math.sqrt((n.x-t)*(n.x-t)+(n.y-e)*(n.y-e))))||(this.moveSum++,!this.firstMove&&2==this.moveQueue.length&&4*n<this.moveQueue[1].c&&(this.moveQueue[0].x-=2/3*(this.moveQueue[0].x-this.moveQueue[1].x),this.moveQueue[0].y-=2/3*(this.moveQueue[0].y-this.moveQueue[1].y),this.moveQueue[1].c/=2/3*this.moveQueue[1].c),n={x:t,y:e,c:n},this.moveQueue.push(n),3<=this.moveQueue.length&&(n=this.moveQueue.shift(),this.actionPaint(n)))}},{key:"actionPaint",value:function(t,e){var n=t.x,i=t.y,o=t.c;if(!this.preDot||0!==o){if(this.nextDot=this.moveQueue.length?this.moveQueue[0]:null,o){this.writeCtx.moveTo(this.preDot.x,this.preDot.y);var s=0;!this.firstMove&&this.nextDot&&o>3*this.nextDot.c&&(o/=4,s=1),this.firstMove=1;var r=this.fontWidth/320*this.penSize;if(e||(e=o<.003125*this.fontWidth?1.625*r:o<.00625*this.fontWidth?1.375*r:o<.009375*this.fontWidth?1.25*r:o<.015625*this.fontWidth?1.125*r:o<.021875*this.fontWidth?r:o<.028125*this.fontWidth?.875*r:o<.034375*this.fontWidth?.75*r:o<.046875*this.fontWidth?.625*r:o<.0625*this.fontWidth?.5*r:.375*r),this.toLW=e,s)for(s=1;3>=s;s++)this.paintDot(n+s/3*(this.preDot.x-n),i+s/3*(this.preDot.y-i),o)}this.paintDot(n,i,o),this.preDot=t}}},{key:"paintDot",value:function(t,e,n){var i=this.lineWidth,o=this.canvasColor;if(this.writeCtx.fillStyle=o,this.writeCtx.strokeStyle=o,this.preDot){if(1<(n=Math.floor(Math.abs(n)/(this.lineWidth/3))))for(var i=this.lineWidth,s=0;s<n;s++)i-=(i-this.toLW)/(8<n?n:8);else Math.abs(this.lineWidth-this.toLW)>this.fontWidth/320*this.penSize*.025&&(i=this.lineWidth-(this.lineWidth-this.toLW)/8);var r=this.lineWidth*Math.sin(Math.atan((e-this.preDot.y)/(t-this.preDot.x))),a=this.lineWidth*Math.cos(Math.atan((e-this.preDot.y)/(t-this.preDot.x))),h=i*Math.sin(Math.atan((e-this.preDot.y)/(t-this.preDot.x))),c=i*Math.cos(Math.atan((e-this.preDot.y)/(t-this.preDot.x)));n=this.preDot.x+r;var s=this.preDot.y-a,r=this.preDot.x-r,a=this.preDot.y+a,u=t+h,f=e-c,h=t-h,c=e+c;this.writeCtx.beginPath(),this.writeCtx.moveTo(n,s),this.writeCtx.lineTo(r,a),this.writeCtx.lineTo(h,c),this.writeCtx.lineTo(u,f),this.writeCtx.fill(),this.writeCtx.closePath(),this.writeCtx.fillStyle=o,this.writeCtx.lineWidth=this.lineWidth=i}this.writeCtx.beginPath(),this.writeCtx.lineWidth=this.lineWidth=i,this.writeCtx.arc(t,e,this.lineWidth,0,2*Math.PI),this.writeCtx.fill(),this.writeCtx.closePath()}}]),e}(c.default.Component);e.default=p},83:function(t,e,n){var i=n(175);"string"==typeof i&&(i=[[t.i,i,""]]);n(79)(i,{});i.locals&&(t.exports=i.locals)},84:function(t,e,n){var i=n(176);"string"==typeof i&&(i=[[t.i,i,""]]);n(79)(i,{});i.locals&&(t.exports=i.locals)}},[172]);